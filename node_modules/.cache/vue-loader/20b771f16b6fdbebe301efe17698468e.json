{"remainingRequest":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Login.vue?vue&type=style&index=0&id=e14c51a2&scoped=true&lang=scss","dependencies":[{"path":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","mtime":1651071166962},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/css-loader/dist/cjs.js","mtime":1649792623028},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1649792623288},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/postcss-loader/src/index.js","mtime":1649792623203},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/sass-loader/dist/cjs.js","mtime":1649792626417},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js","mtime":1649792623288}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbiB7Cglib3JkZXI6IDFweCBzb2xpZCAjY2NjOwoJd2lkdGg6IDYwdnc7CgltYXJnaW46IDAgYXV0bzsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWZvcm0gewoJCXdpZHRoOiA0MHZ3OwoJCW1hcmdpbjogMCBhdXRvOwoJCWRpc3BsYXk6IGZsZXg7CgkJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCQlhbGlnbi1pdGVtczogY2VudGVyOwoJCWp1c3RpZnktY29udGVudDogY2VudGVyOwoJCWxhYmVsIHsKCQkJZGlzcGxheTogZmxleDsKCQkJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCQkJbWFyZ2luOiAxMHB4IDA7CgkJCWlucHV0IHsKCQkJCXdpZHRoOiAxMDAlOwoJCQkJYm9yZGVyOiAxcHggc29saWQgI2NjYzsKCQkJCXBhZGRpbmc6IDVweDsKCQkJfQoJCX0KCQlidXR0b24gewoJCQl3aWR0aDogMTB2dzsKCQkJbWluLXdpZHRoOiBtaW4tY29udGVudDsKCQkJYm9yZGVyOiAxcHggc29saWQgI2NjYzsKCQkJcGFkZGluZzogNXB4OwoJCQltYXJnaW46IDEwcHggMDsKCQl9Cgl9Cn0K"},{"version":3,"sources":["/var/www/html/php/lilian-vue-cli/src/views/Login.vue"],"names":[],"mappings":";AAmFA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;CACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACtB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;CACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAClB,CAAC,CAAC,CAAC,EAAE;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,EAAE;GACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;GACd,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GACb;EACD;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;GACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;EACf;CACD;AACD","file":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n\t<section>\n\t\t<div class=\"login\">\n\t\t\t<h2>Se connecter Ã  son compte administrateur</h2>\n\t\t\t<form>\n\t\t\t\t<label for=\"email\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label for=\"password\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tplaceholder=\"Mot de passe\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<button type=\"submit\" @click=\"submitForm\">Connexion</button>\n\t\t\t</form>\n\t\t</div>\n\t</section>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport axios, {AxiosResponse} from \"axios\";\n\n\ninterface DataComponent {\n\temail: string;\n\tpassword: string;\n}\n\nexport default defineComponent({\n\tname: \"Login\",\n\tdata(): DataComponent {\n\t\treturn {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tsubmitForm(event: Event) {\n\t\t\tevent.preventDefault();\n\t\t\taxios\n\t\t\t\t.post(\"https://sheltered-basin-99154.herokuapp.com/api/user/login\", {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t})\n\t\t\t\t.then((response: AxiosResponse<{ userId: string, token: string }> ) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tswitch(response.status){\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tlocalStorage.setItem(\"userId\", response.data.userId);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"expires_at\", (new Date().getTime() + 3600).toString());\n\t\t\t\t\t\t\tlocation.href = \"/admin\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\talert(response.data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\talert(\"Une erreur est survenue\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t},\n});\n</script>\n\n<style scoped lang=\"scss\">\n.login {\n\tborder: 1px solid #ccc;\n\twidth: 60vw;\n\tmargin: 0 auto;\n\ttext-align: center;\n\tform {\n\t\twidth: 40vw;\n\t\tmargin: 0 auto;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tlabel {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin: 10px 0;\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder: 1px solid #ccc;\n\t\t\t\tpadding: 5px;\n\t\t\t}\n\t\t}\n\t\tbutton {\n\t\t\twidth: 10vw;\n\t\t\tmin-width: min-content;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tpadding: 5px;\n\t\t\tmargin: 10px 0;\n\t\t}\n\t}\n}\n</style>\n"]}]}