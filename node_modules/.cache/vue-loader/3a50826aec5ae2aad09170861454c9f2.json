{"remainingRequest":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Login.vue?vue&type=script&lang=ts","dependencies":[{"path":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","mtime":1651071166962},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/babel-loader/lib/index.js","mtime":1649792615186},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/ts-loader/index.js","mtime":1649792621564},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js","mtime":1649792623288}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCBheGlvcywge0F4aW9zUmVzcG9uc2V9IGZyb20gImF4aW9zIjsKCgppbnRlcmZhY2UgRGF0YUNvbXBvbmVudCB7CgllbWFpbDogc3RyaW5nOwoJcGFzc3dvcmQ6IHN0cmluZzsKfQoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKCW5hbWU6ICJMb2dpbiIsCglkYXRhKCk6IERhdGFDb21wb25lbnQgewoJCXJldHVybiB7CgkJCWVtYWlsOiAiIiwKCQkJcGFzc3dvcmQ6ICIiLAoJCX07Cgl9LAoJbWV0aG9kczogewoJCXN1Ym1pdEZvcm0oZXZlbnQ6IEV2ZW50KSB7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWF4aW9zCgkJCQkucG9zdCgiaHR0cHM6Ly9zaGVsdGVyZWQtYmFzaW4tOTkxNTQuaGVyb2t1YXBwLmNvbS9hcGkvdXNlci9sb2dpbiIsIHsKCQkJCQllbWFpbDogdGhpcy5lbWFpbCwKCQkJCQlwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKCQkJCX0pCgkJCQkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8eyB1c2VySWQ6IHN0cmluZywgdG9rZW46IHN0cmluZyB9PiApID0+IHsKCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCQkJCQlzd2l0Y2gocmVzcG9uc2Uuc3RhdHVzKXsKCQkJCQkJY2FzZSAyMDA6CgkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlcklkIiwgcmVzcG9uc2UuZGF0YS51c2VySWQpOwoJCQkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CgkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZXhwaXJlc19hdCIsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDM2MDApLnRvU3RyaW5nKCkpOwoJCQkJCQkJbG9jYXRpb24uaHJlZiA9ICIvYWRtaW4iOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgNDAxOgoJCQkJCQkJYWxlcnQocmVzcG9uc2UuZGF0YSk7CgkJCQkJCQlicmVhazsKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCWFsZXJ0KCJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaCgoZXJyb3IpID0+IHsKCQkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCQl9KTsKCQl9LAoJfSwKfSk7Cg=="},{"version":3,"sources":["/var/www/html/php/lilian-vue-cli/src/views/Login.vue"],"names":[],"mappings":"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C,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAClD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAC5E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACxB,CAAC,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACpB,CAAC,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAChC,CAAC,CAAC,CAAC,CAAC,CAAC;KACP;IACD,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;KACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC;CACF,CAAC;AACF,CAAC,CAAC","file":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n\t<section>\n\t\t<div class=\"login\">\n\t\t\t<h2>Se connecter Ã  son compte administrateur</h2>\n\t\t\t<form>\n\t\t\t\t<label for=\"email\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label for=\"password\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tplaceholder=\"Mot de passe\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<button type=\"submit\" @click=\"submitForm\">Connexion</button>\n\t\t\t</form>\n\t\t</div>\n\t</section>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport axios, {AxiosResponse} from \"axios\";\n\n\ninterface DataComponent {\n\temail: string;\n\tpassword: string;\n}\n\nexport default defineComponent({\n\tname: \"Login\",\n\tdata(): DataComponent {\n\t\treturn {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tsubmitForm(event: Event) {\n\t\t\tevent.preventDefault();\n\t\t\taxios\n\t\t\t\t.post(\"https://sheltered-basin-99154.herokuapp.com/api/user/login\", {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t})\n\t\t\t\t.then((response: AxiosResponse<{ userId: string, token: string }> ) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tswitch(response.status){\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tlocalStorage.setItem(\"userId\", response.data.userId);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"expires_at\", (new Date().getTime() + 3600).toString());\n\t\t\t\t\t\t\tlocation.href = \"/admin\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\talert(response.data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\talert(\"Une erreur est survenue\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t},\n});\n</script>\n\n<style scoped lang=\"scss\">\n.login {\n\tborder: 1px solid #ccc;\n\twidth: 60vw;\n\tmargin: 0 auto;\n\ttext-align: center;\n\tform {\n\t\twidth: 40vw;\n\t\tmargin: 0 auto;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tlabel {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin: 10px 0;\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder: 1px solid #ccc;\n\t\t\t\tpadding: 5px;\n\t\t\t}\n\t\t}\n\t\tbutton {\n\t\t\twidth: 10vw;\n\t\t\tmin-width: min-content;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tpadding: 5px;\n\t\t\tmargin: 10px 0;\n\t\t}\n\t}\n}\n</style>\n"]}]}