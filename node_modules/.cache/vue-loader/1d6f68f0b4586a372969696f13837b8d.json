{"remainingRequest":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Login.vue?vue&type=template&id=e14c51a2&scoped=true&ts=true","dependencies":[{"path":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","mtime":1651071166962},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/thread-loader/dist/cjs.js","mtime":1649792615210},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/babel-loader/lib/index.js","mtime":1649792615186},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/ts-loader/index.js","mtime":1649792621564},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1649792623288},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js","mtime":1649792623288}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgk8c2VjdGlvbj4KCQk8ZGl2IGNsYXNzPSJsb2dpbiI+CgkJCTxoMj5TZSBjb25uZWN0ZXIgw6Agc29uIGNvbXB0ZSBhZG1pbmlzdHJhdGV1cjwvaDI+CgkJCTxmb3JtPgoJCQkJPGxhYmVsIGZvcj0iZW1haWwiPgoJCQkJCTxpbnB1dAoJCQkJCQl0eXBlPSJlbWFpbCIKCQkJCQkJbmFtZT0iZW1haWwiCgkJCQkJCWlkPSJlbWFpbCIKCQkJCQkJcGxhY2Vob2xkZXI9IkVtYWlsIgoJCQkJCQlyZXF1aXJlZAoJCQkJCQl2LW1vZGVsPSJlbWFpbCIKCQkJCQkvPgoJCQkJPC9sYWJlbD4KCQkJCTxsYWJlbCBmb3I9InBhc3N3b3JkIj4KCQkJCQk8aW5wdXQKCQkJCQkJdHlwZT0icGFzc3dvcmQiCgkJCQkJCW5hbWU9InBhc3N3b3JkIgoJCQkJCQlpZD0icGFzc3dvcmQiCgkJCQkJCXBsYWNlaG9sZGVyPSJNb3QgZGUgcGFzc2UiCgkJCQkJCXJlcXVpcmVkCgkJCQkJCXYtbW9kZWw9InBhc3N3b3JkIgoJCQkJCS8+CgkJCQk8L2xhYmVsPgoJCQkJPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIEBjbGljaz0ic3VibWl0Rm9ybSI+Q29ubmV4aW9uPC9idXR0b24+CgkJCTwvZm9ybT4KCQk8L2Rpdj4KCTwvc2VjdGlvbj4K"},{"version":3,"sources":["/var/www/html/php/lilian-vue-cli/src/views/Login.vue"],"names":[],"mappings":";CACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAChD,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACjB,CAAC,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACf,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACpB,CAAC,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAClB,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAC5D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC;CACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n\t<section>\n\t\t<div class=\"login\">\n\t\t\t<h2>Se connecter Ã  son compte administrateur</h2>\n\t\t\t<form>\n\t\t\t\t<label for=\"email\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label for=\"password\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tplaceholder=\"Mot de passe\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<button type=\"submit\" @click=\"submitForm\">Connexion</button>\n\t\t\t</form>\n\t\t</div>\n\t</section>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport axios, {AxiosResponse} from \"axios\";\n\n\ninterface DataComponent {\n\temail: string;\n\tpassword: string;\n}\n\nexport default defineComponent({\n\tname: \"Login\",\n\tdata(): DataComponent {\n\t\treturn {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tsubmitForm(event: Event) {\n\t\t\tevent.preventDefault();\n\t\t\taxios\n\t\t\t\t.post(\"https://sheltered-basin-99154.herokuapp.com/api/user/login\", {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t})\n\t\t\t\t.then((response: AxiosResponse<{ userId: string, token: string }> ) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tswitch(response.status){\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tlocalStorage.setItem(\"userId\", response.data.userId);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"expires_at\", (new Date().getTime() + 3600).toString());\n\t\t\t\t\t\t\tlocation.href = \"/admin\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\talert(response.data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\talert(\"Une erreur est survenue\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t},\n});\n</script>\n\n<style scoped lang=\"scss\">\n.login {\n\tborder: 1px solid #ccc;\n\twidth: 60vw;\n\tmargin: 0 auto;\n\ttext-align: center;\n\tform {\n\t\twidth: 40vw;\n\t\tmargin: 0 auto;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tlabel {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin: 10px 0;\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder: 1px solid #ccc;\n\t\t\t\tpadding: 5px;\n\t\t\t}\n\t\t}\n\t\tbutton {\n\t\t\twidth: 10vw;\n\t\t\tmin-width: min-content;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tpadding: 5px;\n\t\t\tmargin: 10px 0;\n\t\t}\n\t}\n}\n</style>\n"]}]}