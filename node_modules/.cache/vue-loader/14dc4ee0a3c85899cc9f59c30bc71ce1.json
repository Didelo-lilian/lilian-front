{"remainingRequest":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Admin.vue?vue&type=style&index=0&id=44559e55&scoped=true&lang=scss","dependencies":[{"path":"/var/www/html/php/lilian-vue-cli/src/views/Admin.vue","mtime":1651076706154},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/css-loader/dist/cjs.js","mtime":1649792623028},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1649792623288},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/postcss-loader/src/index.js","mtime":1649792623203},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/sass-loader/dist/cjs.js","mtime":1649792626417},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js","mtime":1649792623288}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZG1pbiB7Cgl3aWR0aDogODB2dzsKCW1hcmdpbjogMCBhdXRvOwoJbWFpbiB7CgkJc2VjdGlvbiB7CgkJCXdpZHRoOiA2MHZ3OwoJCQltYXJnaW46IGF1dG8gMjB2aDsKCQkJaDIgewoJCQkJZm9udC1zaXplOiAyZW07CgkJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCQltYXJnaW4tYm90dG9tOiAxdmg7CgkJCX0KCQkJZm9ybSB7CgkJCQl3aWR0aDogbWF4LWNvbnRlbnQ7CgkJCQltYXJnaW46IDAgYXV0bzsKCQkJCWRpc3BsYXk6IGZsZXg7CgkJCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwoJCQkJZm9udC1zaXplOiAxZW07CgkJCQlsYWJlbCB7CgkJCQkJbWFyZ2luLWJvdHRvbTogMnZoOwoJCQkJCXNwYW4gewoJCQkJCQltYXJnaW4tcmlnaHQ6IDAuNXZ3OwoJCQkJCX0KCQkJCX0KCQkJCWJ1dHRvbiB7CgkJCQkJbWFyZ2luLXRvcDogMnZoOwoJCQkJCXdpZHRoOiBmaXQtY29udGVudDsKCQkJCQlhbGlnbi1zZWxmOiBjZW50ZXI7CgkJCQl9CgkJCX0KCQl9Cgl9CglociB7CgkJZGlzcGxheTogYmxvY2s7CgkJYm9yZGVyOiAxcHggc29saWQgd2hpdGU7CgkJd2lkdGg6IDQwdnc7CgkJbWFyZ2luLXRvcDogNXZoOwoJCW1hcmdpbi1ib3R0b206IDV2aDsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7Cgl9Cn0K"},{"version":3,"sources":["/var/www/html/php/lilian-vue-cli/src/views/Admin.vue"],"names":[],"mappings":"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","file":"/var/www/html/php/lilian-vue-cli/src/views/Admin.vue","sourceRoot":"","sourcesContent":["<template>\n\t<div class=\"admin\">\n\t\t<main>\n\t\t\t<section>\n\t\t\t\t<h2>Ajouter un étudiant</h2>\n\t\t\t\t<form>\n\t\t\t\t\t<label for=\"student\">\n\t\t\t\t\t\t<span>Nom de l'étudiant</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"student\" v-model=\"student\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for=\"classe\">\n\t\t\t\t\t\t<span>Classe</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"classe\" v-model=\"classe\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<button type=\"submit\" @click=\"submitCreateStudent\">Click Here</button>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t<hr />\n\t\t\t<section>\n\t\t\t\t<h2>Modifier un étudiant</h2>\n\t\t\t\t<form>\n\t\t\t\t\t<label for=\"student\">\n\t\t\t\t\t\t<span>Nom de l'étudiant</span>\n\t\t\t\t\t\t<select name=\"student\" v-model=\"studentSelected\">\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tv-for=\"studentName in studentsName\"\n\t\t\t\t\t\t\t\t:value=\"studentName\"\n\t\t\t\t\t\t\t\t:key=\"studentName\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ studentName }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for=\"month\">\n\t\t\t\t\t\t<span>Mois</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"month\" v-model=\"month\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for=\"day\">\n\t\t\t\t\t\t<span>Jour</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"day\" v-model=\"day\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for=\"link\">\n\t\t\t\t\t\t<span>Lien</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"link\" v-model=\"link\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for=\"title\">\n\t\t\t\t\t\t<span>Titre</span>\n\t\t\t\t\t\t<input type=\"text\" name=\"title\" v-model=\"title\" required />\n\t\t\t\t\t</label>\n\t\t\t\t\t<button type=\"submit\" @click=\"submitUpdateStudent\">Click Here</button>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t<hr />\n\t\t\t<section>\n\t\t\t\t<h2>Supprimer un étudiant</h2>\n\t\t\t\t<form>\n\t\t\t\t\t<label for=\"student\">\n\t\t\t\t\t\t<span>Nom de l'étudiant</span>\n\t\t\t\t\t\t<select name=\"student\" v-model=\"studentSelectedDeleted\">\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tv-for=\"studentName in studentsName\"\n\t\t\t\t\t\t\t\t:value=\"studentName\"\n\t\t\t\t\t\t\t\t:key=\"studentName\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ studentName }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button type=\"submit\" @click=\"submitDeleteStudent\">Click Here</button>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t<hr />\n\t\t</main>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport axios, { AxiosResponse } from \"axios\";\n\ninterface Student {\n\t_id: string;\n\tname: string;\n\tclass: string;\n\tcours: {\n\t\t_id: string;\n\t\t__v: number;\n\t\tmonth: string;\n\t\tlessons: {\n\t\t\t_id: string;\n\t\t\tday: string;\n\t\t\ttitle: string;\n\t\t\tlink: string;\n\t\t}[];\n\t}[];\n}\n\ninterface DataComponent {\n\tstudentsName: string[];\n\tstudent: string;\n\tmonth: string;\n\tclasse: string;\n\tday: string;\n\tlink: string;\n\ttitle: string;\n\tstudentSelected: string;\n\tstudentSelectedDeleted: string;\n}\n\nexport default defineComponent({\n\tname: \"Admin\",\n\tdata(): DataComponent {\n\t\treturn {\n\t\t\tstudentsName: [],\n\t\t\tstudent: \"\",\n\t\t\tmonth: \"\",\n\t\t\tclasse: \"\",\n\t\t\tday: \"\",\n\t\t\tlink: \"\",\n\t\t\ttitle: \"\",\n\t\t\tstudentSelected: \"\",\n\t\t\tstudentSelectedDeleted: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tloadStudentsName(): void {\n\t\t\tthis.studentsName = [];\n\t\t\taxios\n\t\t\t\t.get(\"https://sheltered-basin-99154.herokuapp.com/api/student/\")\n\t\t\t\t.then(\n\t\t\t\t\t(\n\t\t\t\t\t\tresponse: AxiosResponse<{ message: string; students: Student[] }>\n\t\t\t\t\t) => {\n\t\t\t\t\t\tresponse.data.students.forEach((student: Student) => {\n\t\t\t\t\t\t\tthis.studentsName?.push(student.name);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.student = \"\";\n\t\t\t\t\t\tthis.classe = \"\";\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t\tsubmitCreateStudent(e: Event): void {\n\t\t\te.preventDefault();\n\t\t\tif (localStorage.getItem(\"token\") === null) {\n\t\t\t\talert(\"Vous n'êtes pas connecté\");\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\twindow.location.href = \"/login\";\n\t\t\t\t}, 5000);\n\t\t\t\treturn;\n\t\t\t} else if (localStorage.getItem(\"expires_at\") != null) {\n\t\t\t\tif (\n\t\t\t\t\tnew Date(localStorage.getItem(\"expires_at\") as string) < new Date()\n\t\t\t\t) {\n\t\t\t\t\talert(\"Votre session a expiré\");\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.location.href = \"/login\";\n\t\t\t\t\t}, 5000);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\taxios\n\t\t\t\t\t\t.post(\n\t\t\t\t\t\t\t\"https://sheltered-basin-99154.herokuapp.com/api/student\",\n\t\t\t\t\t\t\t{ name: this.student, class: this.classe },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then((response: AxiosResponse) => {\n\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\talert(\"Ajouté !\");\n\t\t\t\t\t\t\tthis.loadStudentsName();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error: Error) => {\n\t\t\t\t\t\t\talert(\"Erreur !\");\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\talert(\"Erreur !\");\n\t\t\t}\n\t\t},\n\t\tsubmitUpdateStudent(e: Event): void {\n\t\t\te.preventDefault();\n\t\t\taxios\n\t\t\t\t.put(\n\t\t\t\t\t`https://sheltered-basin-99154.herokuapp.com/api/student/${this.student}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tname: document.querySelector(\"select\")?.value,\n\t\t\t\t\t\tmonth: this.month,\n\t\t\t\t\t\tlessons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tday: this.day,\n\t\t\t\t\t\t\t\ttitle: this.title,\n\t\t\t\t\t\t\t\tlink: this.link,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then((response: AxiosResponse) => {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\talert(\"Modifié !\");\n\t\t\t\t\tthis.month = \"\";\n\t\t\t\t\tthis.day = \"\";\n\t\t\t\t\tthis.title = \"\";\n\t\t\t\t\tthis.link = \"\";\n\t\t\t\t})\n\t\t\t\t.catch((error: Error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t\tsubmitDeleteStudent(e: Event): void {\n\t\t\te.preventDefault();\n\t\t\taxios\n\t\t\t\t.delete(`https://sheltered-basin-99154.herokuapp.com/api/student/`, {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tname: this.studentSelectedDeleted,\n\t\t\t\t\t},\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then((response: AxiosResponse) => {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\talert(\"Supprimé !\");\n\t\t\t\t\tthis.loadStudentsName();\n\t\t\t\t})\n\t\t\t\t.catch((error: Error) => {\n\t\t\t\t\talert(\"Erreur !\");\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.loadStudentsName();\n\t},\n});\n</script>\n\n<style scoped lang=\"scss\">\n.admin {\n\twidth: 80vw;\n\tmargin: 0 auto;\n\tmain {\n\t\tsection {\n\t\t\twidth: 60vw;\n\t\t\tmargin: auto 20vh;\n\t\t\th2 {\n\t\t\t\tfont-size: 2em;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin-bottom: 1vh;\n\t\t\t}\n\t\t\tform {\n\t\t\t\twidth: max-content;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tlabel {\n\t\t\t\t\tmargin-bottom: 2vh;\n\t\t\t\t\tspan {\n\t\t\t\t\t\tmargin-right: 0.5vw;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbutton {\n\t\t\t\t\tmargin-top: 2vh;\n\t\t\t\t\twidth: fit-content;\n\t\t\t\t\talign-self: center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\thr {\n\t\tdisplay: block;\n\t\tborder: 1px solid white;\n\t\twidth: 40vw;\n\t\tmargin-top: 5vh;\n\t\tmargin-bottom: 5vh;\n\t\ttext-align: center;\n\t}\n}\n</style>\n"]}]}