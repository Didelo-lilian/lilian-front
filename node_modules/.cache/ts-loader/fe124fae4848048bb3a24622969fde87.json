{"remainingRequest":"/var/www/html/php/lilian-vue-cli/node_modules/thread-loader/dist/cjs.js!/var/www/html/php/lilian-vue-cli/node_modules/babel-loader/lib/index.js!/var/www/html/php/lilian-vue-cli/node_modules/ts-loader/index.js??ref--15-3!/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Login.vue?vue&type=script&lang=ts","dependencies":[{"path":"/var/www/html/php/lilian-vue-cli/src/views/Login.vue","mtime":1651071166962},{"path":"/var/www/html/php/lilian-vue-cli/babel.config.js","mtime":1649788081150},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/thread-loader/dist/cjs.js","mtime":1649792615210},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/babel-loader/lib/index.js","mtime":1649792615186},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/ts-loader/index.js","mtime":1649792621564},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":1649792615190},{"path":"/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js","mtime":1649792623288}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICJ2dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBheGlvcy5wb3N0KCJodHRwczovL3NoZWx0ZXJlZC1iYXNpbi05OTE1NC5oZXJva3VhcHAuY29tL2FwaS91c2VyL2xvZ2luIiwgewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgICAgICBjYXNlIDIwMDoKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJZCIsIHJlc3BvbnNlLmRhdGEudXNlcklkKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJleHBpcmVzX2F0IiwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgMzYwMCkudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAiL2FkbWluIjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDE6CiAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBhbGVydCgiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"mappings":";;AACA,SAASA,eAAT,QAAgC,KAAhC;AACA,OAAOC,KAAP,MAAmC,OAAnC;AAQA,eAAeD,eAAe,CAAC;AAC9BE,MAAI,EAAE,OADwB;AAE9BC,MAF8B,kBAE1B;AACH,WAAO;AACNC,WAAK,EAAE,EADD;AAENC,cAAQ,EAAE;AAFJ,KAAP;AAIA,GAP6B;AAQ9BC,SAAO,EAAE;AACRC,cADQ,sBACGC,KADH,EACe;AACtBA,WAAK,CAACC,cAAN;AACAR,WAAK,CACHS,IADF,CACO,4DADP,EACqE;AACnEN,aAAK,EAAE,KAAKA,KADuD;AAEnEC,gBAAQ,EAAE,KAAKA;AAFoD,OADrE,EAKEM,IALF,CAKO,UAACC,QAAD,EAAgE;AACrEC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACT,IAArB;;AACA,gBAAOS,QAAQ,CAACG,MAAhB;AACC,eAAK,GAAL;AACCC,wBAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BL,QAAQ,CAACT,IAAT,CAAce,MAA7C;AACAF,wBAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,QAAQ,CAACT,IAAT,CAAcgB,KAA5C;AACAH,wBAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,CAAC,IAAIG,IAAJ,GAAWC,OAAX,KAAuB,IAAxB,EAA8BC,QAA9B,EAAnC;AACAC,oBAAQ,CAACC,IAAT,GAAgB,QAAhB;AACA;;AACD,eAAK,GAAL;AACCC,iBAAK,CAACb,QAAQ,CAACT,IAAV,CAAL;AACA;;AACD;AACCsB,iBAAK,CAAC,yBAAD,CAAL;AACA;AAZF;AAcA,OArBF,EAsBEC,KAtBF,CAsBQ,UAACC,KAAD,EAAU;AAChBd,eAAO,CAACC,GAAR,CAAYa,KAAZ;AACA,OAxBF;AAyBA;AA5BO;AARqB,CAAD,CAA9B","names":["defineComponent","axios","name","data","email","password","methods","submitForm","event","preventDefault","post","then","response","console","log","status","localStorage","setItem","userId","token","Date","getTime","toString","location","href","alert","catch","error"],"sourceRoot":"","sources":["/var/www/html/php/lilian-vue-cli/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/php/lilian-vue-cli/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/php/lilian-vue-cli/src/views/Login.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport { defineComponent } from \"vue\";\nimport axios, {AxiosResponse} from \"axios\";\n\n\ninterface DataComponent {\n\temail: string;\n\tpassword: string;\n}\n\nexport default defineComponent({\n\tname: \"Login\",\n\tdata(): DataComponent {\n\t\treturn {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tsubmitForm(event: Event) {\n\t\t\tevent.preventDefault();\n\t\t\taxios\n\t\t\t\t.post(\"https://sheltered-basin-99154.herokuapp.com/api/user/login\", {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t})\n\t\t\t\t.then((response: AxiosResponse<{ userId: string, token: string }> ) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tswitch(response.status){\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tlocalStorage.setItem(\"userId\", response.data.userId);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\t\t\tlocalStorage.setItem(\"expires_at\", (new Date().getTime() + 3600).toString());\n\t\t\t\t\t\t\tlocation.href = \"/admin\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\talert(response.data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\talert(\"Une erreur est survenue\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t},\n});\n"]}]}